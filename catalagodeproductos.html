<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat√°logo de Productos</title>
    <link rel="icon" href="https://github.com/rimedhn/plasticoslabendicion/blob/main/Logo%20Inversiones%20La%20Bendicion.jpeg?raw=true" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e0e0e0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        html {
            scrollbar-width: thin;
            scrollbar-color: #888 #e0e0e0;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
<header class="bg-white shadow-md py-6 mb-8">
    <div class="container mx-auto px-4 md:px-8 flex flex-col sm:flex-row items-center justify-between gap-4">
        <div class="flex items-center">
            <img src="https://github.com/rimedhn/plasticoslabendicion/blob/main/Logo%20Inversiones%20La%20Bendicion.jpeg?raw=true" alt="Logotipo" class="h-16 w-16 mr-4 rounded-full shadow-sm">
            <div>
                <h1 class="text-3xl font-extrabold text-gray-800">INVERSIONES LA BENDICION</h1>
                <p class="text-gray-600">¬°Bienvenido a nuestro cat√°logo en l√≠nea!</p>
            </div>
        </div>
    </div>
</header>

    
<section class="mb-8">
    <div class="relative w-full overflow-hidden" style="padding-top: 25%;">
        <img src="https://github.com/rimedhn/plasticoslabendicion/blob/main/Banner%20catalago%20en%20linea.png?raw=true" alt="Banner" class="absolute top-0 left-0 w-full h-full object-contain">
    </div>
</section>

<div class="container mx-auto py-4 px-6 md:px-8 flex-grow">
    <h1 class="text-4xl font-extrabold text-center text-gray-800 mb-8 mt-4">üõçÔ∏è Cat√°logo de Productos</h1>
    <div class="mb-8 p-4 bg-white rounded-lg shadow-md flex flex-wrap items-center justify-center gap-4 text-center font-bold text-blue-600">
        Consulta nuestros productos disponibles.
    </div>
    <div class="flex flex-col lg:flex-row gap-6">
        <aside class="lg:w-1/4 bg-white p-6 rounded-lg shadow-lg h-fit lg:sticky lg:top-8">
            <h2 class="text-2xl font-bold text-gray-700 mb-4">Categor√≠as</h2>
            <div id="categoryFilters" class="w-full">
                <select id="categorySelect" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="Todos">Todas las Categor√≠as</option>
                </select>
            </div>
            <div class="mb-4 mt-4">
                <input type="text" id="searchBar" placeholder="Buscar productos..." class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
            </div>
        </aside>
        <main class="lg:w-3/4">
            <div id="productGrid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6">
                <p class="text-center text-gray-600 col-span-full">Cargando productos...</p>
            </div>
        </main>
    </div>
</div>

<!-- SOLO SE MANTIENE el bot√≥n flotante de WhatsApp -->
    <a href="#" target="_blank" id="whatsappFloatingButton" class="fixed bottom-5 right-5 bg-green-300 text-white p-2 rounded-full shadow-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75 transition-all duration-300 z-50">
        <svg class="w-12 h-12" fill="currentColor" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">
            <path style="fill:#2CB742;" d="M0,58l4.988-14.963C2.457,38.78,1,33.812,1,28.5C1,12.76,13.76,0,29.5,0S58,12.76,58,28.5 S45.24,57,29.5,57c-4.789,0-9.299-1.187-13.26-3.273L0,58z"></path>
            <path style="fill:#FFFFFF;" d="M47.683,37.985c-1.316-2.487-6.169-5.331-6.169-5.331c-1.098-0.626-2.423-0.696-3.049,0.42 c0,0-1.577,1.891-1.978,2.163c-1.832,1.241-3.529,1.193-5.242-0.52l-3.981-3.981l-3.981-3.981c-1.713-1.713-1.761-3.41-0.52-5.242 c0.272-0.401,2.163-1.978,2.163-1.978c1.116-0.627,1.046-1.951,0.42-3.049c0,0-2.844-4.853-5.331-6.169 c-1.058-0.56-2.357-0.364-3.203,0.482l-1.758,1.758c-5.577,5.577-2.831,11.873,2.746,17.45l5.097,5.097l5.097,5.097 c5.577,5.577,11.873,8.323,17.45,2.746l1.758-1.758C48.048,40.341,48.243,39.042,47.683,37.985z"></path>
        </svg>
    </a>

<script>
const GOOGLE_SHEETS_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTvOhf_J1mh__Hxa9kXpGUubb_U1b2HG8eKCSo9R7ecn84LaITA69_llGe3ZAf6pOqOoSsJ2iv2J9pX/pub?gid=782954701&single=true&output=csv';
const WHATSAPP_NUMBER = '50498783851'; // REEMPLAZA este n√∫mero si lo necesitas

// Configuraci√≥n del link del bot√≥n flotante de WhatsApp
const whatsappFloatingButton = document.getElementById('whatsappFloatingButton');
const initialWhatsappMessage = encodeURIComponent("¬°Hola! Vengo de tu cat√°logo de productos y me gustar√≠a comunicarme con un asesor de ventas.");

if (whatsappFloatingButton) {
    whatsappFloatingButton.href = `https://wa.me/${WHATSAPP_NUMBER}?text=${initialWhatsappMessage}`;
}

let allProducts = [];
let categories = new Set();

const searchBar = document.getElementById('searchBar');

/**
 * Carga productos del Google Sheet publicado, filtra activos, extrae categor√≠as y renderiza la vista.
 */
async function loadProducts() {
    try {
        const response = await fetch(GOOGLE_SHEETS_CSV_URL);
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        const csvText = await response.text();
        const lines = csvText.split('\n').filter(line => line.trim() !== '');
        if (lines.length < 2) {
            document.getElementById('productGrid').innerHTML = 
                '<p class="text-center text-gray-600 col-span-full">No hay productos disponibles.</p>';
            return;
        }
        const headers = lines[0].split(',').map(header => header.trim());
        const headerMap = {
            'ID': 'id',
            'Nombre Producto': 'name',
            'Descripci√≥n': 'description',
            'Precio': 'price',
            'Categor√≠a': 'category',
            'Imagen URL': 'imageUrl',
            'Estado': 'status'
        };

        allProducts = lines.slice(1).map(line => {
            const values = line.split(',');
            let product = {};
            headers.forEach((header, index) => {
                const propName = headerMap[header] || header.toLowerCase().replace(/\s/g, '');
                product[propName] = values[index] ? values[index].trim() : '';
            });
            product.price = parseFloat(product.price || 0);
            return product;
        }).filter(product => product.status && product.status.toLowerCase() === 'activo');
        categories.clear();
        allProducts.forEach(product => { if (product.category) categories.add(product.category); });
        populateCategorySelect();
        renderProducts('Todos');
    } catch (error) {
        document.getElementById('productGrid').innerHTML = 
            '<p class="text-center text-red-500 col-span-full">Error al cargar los productos.</p>';
    }
}

function populateCategorySelect() {
    const categorySelect = document.getElementById('categorySelect');
    categorySelect.innerHTML = '<option value="Todos">Todas las Categor√≠as</option>';
    Array.from(categories).sort().forEach(category => {
        const option = document.createElement('option');
        option.value = category;
        option.textContent = category;
        categorySelect.appendChild(option);
    });
}

function renderProducts(filterCategory) {
    const productGrid = document.getElementById('productGrid');
    productGrid.innerHTML = '';
    let productsToProcess = filterCategory === 'Todos'
        ? allProducts
        : allProducts.filter(product => product.category === filterCategory);

    const searchTerm = searchBar.value.toLowerCase();
    let finalProductsToDisplay = productsToProcess.filter(product => {
        return product.name.toLowerCase().includes(searchTerm)
            || product.description.toLowerCase().includes(searchTerm)
            || (product.category && product.category.toLowerCase().includes(searchTerm))
            || (product.id && product.id.toLowerCase().includes(searchTerm));
    });

    if (finalProductsToDisplay.length === 0) {
        productGrid.innerHTML = 
            '<p class="text-center text-gray-600 col-span-full">No se encontraron productos que coincidan con los filtros aplicados.</p>';
        return;
    }

    // Agrupar y mostrar por categor√≠a si es "Todos"
    if (filterCategory === 'Todos') {
        const groupedProducts = {};
        finalProductsToDisplay.forEach(product => {
            if (!groupedProducts[product.category]) {
                groupedProducts[product.category] = [];
            }
            groupedProducts[product.category].push(product);
        });

        Array.from(categories).sort().forEach(category => {
            if (groupedProducts[category]) {
                const categoryHeader = document.createElement('h2');
                categoryHeader.classList.add('col-span-full', 'text-2xl', 'font-bold', 'text-gray-700', 'mt-6', 'mb-4', 'border-b-2', 'border-gray-200', 'pb-2');
                categoryHeader.textContent = category;
                productGrid.appendChild(categoryHeader);

                groupedProducts[category].sort((a, b) => a.name.localeCompare(b.name)).forEach(product => {
                    createProductCard(productGrid, product);
                });
            }
        });
    } else {
        finalProductsToDisplay.sort((a, b) => a.name.localeCompare(b.name)).forEach(product => {
            createProductCard(productGrid, product);
        });
    }
}

// Tarjeta solo con imagen, nombre y descripci√≥n
function createProductCard(container, product) {
    const productCard = document.createElement('div');
    productCard.className = 'bg-white rounded-xl shadow-lg overflow-hidden text-center p-2 transition-all duration-300 hover:shadow-xl hover:scale-105 flex flex-col';
    const imageUrl = product.imageUrl || `https://placehold.co/300x200/e0e0e0/555555?text=${encodeURIComponent(product.name || 'Producto')}`;
    productCard.innerHTML = `
        <img src="${imageUrl}" alt="${product.name}" class="w-full h-40 object-contain rounded-md mb-2"
            onerror="this.onerror=null;this.src='https://placehold.co/300x200/e0e0e0/555555?text=Imagen+no+disponible';">
        <h3 class="text-xl font-bold text-gray-800 mb-1 flex-grow">${product.name}</h3>
        <p class="text-gray-600 text-sm mb-1">${product.description}</p>
        <!-- Precio y botones eliminados -->
    `;
    container.appendChild(productCard);
}

document.addEventListener('DOMContentLoaded', () => {
    loadProducts();
    const categorySelect = document.getElementById('categorySelect');
    if (categorySelect) {
        categorySelect.addEventListener('change', (event) => {
            renderProducts(event.target.value);
        });
    }
    if (searchBar) {
        searchBar.addEventListener('input', () => renderProducts(categorySelect.value));
    }
});
</script>

<footer class="bg-gray-800 text-white py-8 mt-12">
    <div class="container mx-auto px-4 text-center">
        <p class="text-sm mb-4">
            INVERSIONES LA BENDICION. LA CEIBA, ATLANTIDA.  
            <a href="mailto:jlaquinozapata6@gmail.com" class="text-blue-400 hover:underline"></a> 
            <a href="tel:+50498783851" class="text-blue-400 hover:underline">+504 9878-3851</a>, <a href="tel:+5049878-3851" class="text-blue-400 hover:underline"></a><br>
            &copy; 2025. Todos los derechos reservados. Cat√°logo de productos desarrollado por: Rimed Digital,  
            <a href="mailto:indime.hn@gmail.com" class="text-blue-400 hover:underline">indime.hn@gmail.com</a>  
            <a href="tel:+50493593126" class="text-blue-400 hover:underline">+504 9359-3126</a>
        </p>
    </div>
<div class="flex justify-left space-x-6 ml-5 mb-4">
            <a href="https://www.facebook.com/[tu_usuario_facebook]" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 transition-colors duration-200">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33V22C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
                </svg>
            </a>
            <a href="https://www.instagram.com/[tu_usuario_instagram]" target="_blank" rel="noopener noreferrer" class="text-pink-400 hover:text-pink-300 transition-colors duration-200">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.82.399-1.148.734-.329.335-.542.69-.734 1.148-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.82.734 1.149.335.329.69.542 1.148.734.353.137.882.3 1.857.344 1.023.047 1.351.058 3.807.058h.468c2.456 0 2.784-.011 3.807-.058.975-.045 1.504-.207 1.857-.344.466-.182.82-.399 1.149-.734.329-.335.542-.69.734-1.149.137-.353.3-.882.344-1.857.047-1.023.058-1.351.058-3.807v-.468c0-2.456-.011-2.784-.058-3.807-.045-.975-.207-1.504-.344-1.857a4.902 4.902 0 00-.734-1.149 4.902 4.902 0 00-1.149-.734c-.353-.137-.882-.3-1.857-.344C14.769 1.812 14.441 1.802 12 1.802zm0 6a4 4 0 100 8 4 4 0 000-8zm0 2a2 2 0 110 4 2 2 0 010-4zm6.5-.25a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z" clip-rule="evenodd" />
                </svg>
            </a>
            <a href="https://www.tiktok.com/@tu_usuario_tiktok" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-gray-300 transition-colors duration-200">
<!-- License: MIT. Made by edent: https://github.com/edent/SuperTinyIcons -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
aria-label="TikTok" role="img"
viewBox="0 0 10 10"><rect
rx="15%" height="8" width="8"
fill="#fff"/><defs><path id="t" d="M219 200a117 117 0 1 0 101 115v-128a150 150 0 0 0 88 28v-63a88 88 0 0 1-88-88h-64v252a54 54 0 1 1-37-51z" style="mix-blend-mode:multiply"/></defs><use href="#t" fill="#f05" x="18" y="15"/><use href="#t" fill="#0ee"/></svg>
        </div>
</footer>
</body>
</html>
